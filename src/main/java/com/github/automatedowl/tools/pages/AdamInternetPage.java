package com.github.automatedowl.tools.pages;

import org.openqa.selenium.WebDriver;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.FindBy;
import org.openqa.selenium.support.PageFactory;
import org.openqa.selenium.support.pagefactory.AjaxElementLocatorFactory;

public class AdamInternetPage {

    /** Default timeout of waiting for web elements in the page. */
    private static final int DEFAULT_ELEMENT_TIMEOUT = 30;
    private static final String ADAM_FILES_URL =
            "https://www.adam.com.au/support/blank-test-files";

    /////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////// Constructor /////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////

    public AdamInternetPage(WebDriver driver) {
        PageFactory.initElements(
                new AjaxElementLocatorFactory(
                        driver, DEFAULT_ELEMENT_TIMEOUT), this);
    }

    /////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////// Web Elements ////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////

    /** Define the web element of test button. */
    @FindBy(xpath = "//a[contains(@href, 'SpeedTest_16MB.dat')]")
    private WebElement fileDownloadLink;

    /////////////////////////////////////////////////////////////////////////////////
    /////////////////////////////// Getters /////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////

    public WebElement getFileDownloadLink() {
        return fileDownloadLink;
    }

    /////////////////////////////////////////////////////////////////////////////////
    ///////////////////////// Public Methods ////////////////////////////////////////
    /////////////////////////////////////////////////////////////////////////////////

    public void navigateToPage(WebDriver driver) {
        driver.get(ADAM_FILES_URL);
    }
}